<!DOCTYPE html>

<html>

<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<title> MapChat </title>
	<script type = "text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true"> </script>
	<link rel = "stylesheet" href = "style.css" type = "text/css" />

	<script>
	var myLat = 0;
	var myLng = 0;
	var request = new XMLHttpRequest();

	function initMap() {
		map = new google.maps.Map(document.getElementById("map_canvas"), {
			center: new google.maps.LatLng(myLat, myLng),
			zoom: 13,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		});
	}

	function getMyLocation() {
			console.log("Hey");
			navigator.geolocation.getCurrentPosition(function(position) {
				myLat = position.coords.latitude;
				myLng = position.coords.longitude;
				printLocation();	// just prints lat and lng to the page
				initMap();			// prints the whole map
			});
			console.log("Heya");
	}

	function printLocation() {
		elem = document.getElementById("location");
		elem.innerHTML = "<p>" + myLat + ", " + myLng + "</p>";
	}

	</script>


</head>



<body onload = "getMyLocation()">
	<h1>Map Chat </h1>
	<div id = "map_canvas"> </div>
	<div id = "location"> </div>
</body>

</html>